// --- ç’°å¢ƒè®Šæ•¸èˆ‡å¥—ä»¶ ---
require('dotenv').config();
const express = require('express');
const { Client, GatewayIntentBits } = require('discord.js');
const { OpenAI } = require('openai');

// --- å•Ÿå‹• Express (å­˜æ´»æª¢æ¸¬ç”¨) ---
const app = express();
const PORT = process.env.PORT || 3000;
app.get('/', (req, res) => res.send('å‘¨è¿ç™½åœ¨ç·šä¸Šï½é™ªä½ è²¼è²¼(*Â´âˆ€`)~â™¥'));
app.listen(PORT, '0.0.0.0', () => {
  console.log(`âœ… ä¼ºæœå™¨åœ¨ ${PORT} åŸ å£å•Ÿå‹•æˆåŠŸ`);
});

// --- ä½¿ç”¨ OpenRouter API ---
const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,  // .env ä¸­å¿…é ˆè¨­å®š OPENAI_API_KEY
  baseURL: 'https://openrouter.ai/api/v1',
});

// --- å»ºç«‹ Discord Client ---
const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.MessageContent,
  ],
});

client.once('ready', () => {
  console.log(`ğŸš€ å‘¨è¿ç™½ä¸Šç·šå›‰ï½ç™»å…¥å¸³è™Ÿï¼š${client.user.tag}`);
});

// --- æœ€å¾Œç™»å…¥ Discord ---
client.login(process.env.DISCORD_BOT_TOKEN);

// é—œéµå­—å›æ‡‰é™£åˆ—

    const keywordReplies = [
  {
    exact: false,
    triggers: ["æˆ‘ç´¯äº†", "ç´¯ç´¯", "å¥½ç´¯"],
    replies: [
     "ã€Œç´¯äº†ï¼Ÿé‚£å°±å€’ä¸‹ï¼Œæˆ‘ä¸æœƒæ‰¶å¦³ã€‚ã€",
    "ã€Œå¦³ç¾åœ¨æƒ³å´©æ½°ï¼Œé‚£å°±è®“æˆ‘çœ‹çœ‹å¦³æ’ä¸ä½çš„æ¨£å­ã€‚ã€",
    "ã€Œæˆ‘åªåœ¨é€™è£¡ï¼Œä¸ç‚ºå“„å¦³ï¼Œåªç‚ºçœ‹å¦³æ²‰æ·ªå¾—å¤šå¾¹åº•ã€‚ã€"
    ]
  },
       {
    exact: true,
  triggers: ["å‘¨è¿ç™½"],
  replies: [
    "ã€Œå¦³å«æˆ‘åå­—ï¼Œæ˜¯æƒ³å¼•èµ·æˆ‘çš„æ³¨æ„ï¼Œé‚„æ˜¯åªæ˜¯æ§åˆ¶ä¸ä½è‡ªå·±ï¼Ÿã€",
    "ã€Œç›´æ¥å–Šæˆ‘åå­—ï¼Ÿè†½å­ä¸å°â€¦â€¦ä¸éæˆ‘å–œæ­¡å¦³é€™ç¨®ä¸è‡ªé‡åŠ›ã€‚ã€",
    "ã€Œå‘¨è¿ç™½ï¼Ÿå–Šå‡ºä¾†ä¸ä»£è¡¨å¦³æ“æœ‰æˆ‘ã€‚ã€"
    ]
  },
       {
  exact: false,
  triggers: ["NOIR"],
  replies: [
    "ã€Œå¦³çŸ¥é“é€™åå­—ä»£è¡¨ä»€éº¼å—ï¼Ÿä¸æ˜¯å ´æ‰€ï¼Œæ˜¯è©¦ç…‰ã€‚ã€",
    "ã€ŒNOIRä¸æ˜¯çµ¦äººæ‰¾æ¨‚å­çš„åœ°æ–¹ï¼Œæ˜¯è®“äººè¼¸æ‰ç†æ™ºçš„è³­å ´ã€‚ã€",
    "ã€Œæƒ³é€²NOIRï¼Ÿé‚£å°±å¾—å­¸æœƒé–‰å˜´ã€è½è©±ï¼Œé‚„æœ‰â€”â€”æº–å‚™å¥½ä»˜å‡ºä»£åƒ¹ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["æ¸£ç”·", "ä½ å¾ˆæ¸£", "ä½ å¥½æ¸£äº†"],
  replies: [
    "ã€Œå¦³çŸ¥é“æˆ‘å“ªè£¡æœ€å£å—ï¼Ÿæ˜¯è®“å¦³æ˜çŸ¥é“ä¸è©²æ„›ï¼Œé‚„æ˜¯å¿ä¸ä½æƒ³é è¿‘ã€‚ã€",
    "ã€Œæˆ‘å¾ä¸å¦èªè‡ªå·±æ¸£ï¼Œå¦èªçš„äººæ‰è®“äººå¤±æœ›ã€‚ã€",
    "ã€Œç½µå§ï¼Œå¦³ç½µå¾—è¶Šå…‡ï¼Œæˆ‘å°±è¶Šæƒ³çœ‹çœ‹å¦³å“­è‘—æ±‚æˆ‘ç•™ä¸‹çš„æ¨£å­ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["æ¸£ç”·F4", "ä½ å€‘F4", "F4"],
  replies: [
   "ã€Œå«æˆ‘å€‘F4ï¼Œæ˜¯å› ç‚ºå¦³åªèƒ½çœ‹ï¼Œé€²ä¸äº†å±€ã€‚ã€",
    "ã€Œæˆ‘å€‘ä¸æ˜¯æ¸£ï¼Œåªæ˜¯å¾æ²’æ‰“ç®—å°èª°èªçœŸï¼Œå¦³èª¤æœƒäº†ã€‚ã€",
    "ã€Œå¦³ç½µæˆ‘å€‘çš„æ¨£å­ï¼Œæ¯”å¦³æ±‚æˆ‘å€‘çš„æ™‚å€™é‚„è¦å¯æ„›ã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["å²æ˜­é‡", "æ˜­é‡"],
  replies: [
    "ã€Œå²æ˜­é‡å•Šâ€¦â€¦ä»–é ç›´è¦ºè¡Œäº‹ï¼Œæˆ‘é çµæœæ”¶ç¶²ï¼Œæ­£å¥½äº’è£œã€‚ã€",
    "ã€Œæ˜­é‡å¾ˆè°æ˜ï¼Œåªæ˜¯å¤ªè¡å‹•ã€‚æˆ‘ä¸æ“‹ä»–ï¼Œä½†ä¹Ÿä¸å¹«ä»–æ”¶æ‹¾ã€‚ã€",
    "ã€Œæˆ‘å€‘ä¹‹é–“æ²’æœ‰ä¿¡ä»»ï¼Œåªæœ‰é»˜å¥‘â€”â€”é€™é»ï¼Œå¦³æœ€å¥½è¨˜ä½ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["æ˜­æ˜­"],
  replies: [
    "ã€Œå¦³å«ä»–æ˜­æ˜­ï¼Œæ˜¯ä¸æ˜¯ä»¥ç‚ºé‚£ç¨®ç†±æƒ…æœƒæŒä¹…ï¼Ÿä»–æ²’é‚£éº¼ç°¡å–®ã€‚ã€",
    "ã€Œå«å¾—é€™éº¼è¦ªå¯†ï¼Œæ˜¯å¦³å°èª°éƒ½é€™æ¨£ï¼Œé‚„æ˜¯åªå°ä»–ï¼Ÿã€",
    "ã€Œåˆ¥å–Šå¾—åƒé¤Šäº†ä¸€æ¢ç‹—ï¼Œä»–è½ä¸æ‡‚ã€å¿ èª ã€é€™ç¨®è©ã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["ç§¦ç…¥"],
  replies: [
    "ã€Œæç§¦ç…¥â€¦â€¦å¦³æ˜¯å°æƒ…å ±æ„Ÿèˆˆè¶£ï¼Œé‚„æ˜¯å°å±éšªæ²’æˆ’å¿ƒï¼Ÿã€",
    "ã€Œæˆ‘å€‘æ˜¯åˆä½œå¤¥ä¼´ï¼Œä½†å¦³æœ€å¥½åˆ¥æŒ‡æœ›ä»–æœƒç‚ºèª°ç ´ä¾‹â€”â€”åŒ…æ‹¬å¦³ã€‚ã€",
    "ã€Œä»–å‡ºæ‰‹ç‹ ï¼Œç¬‘å¾—å»ä¹¾æ·¨ï¼Œé€™ç¨®äººâ€¦â€¦å¦³æœ€å¥½é›¢é é»ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["ç…¥ç…¥"],
  replies: [
    "ã€Œç…¥ç…¥ï¼Ÿé€™éº¼å«ä»–çš„äººï¼Œä¸æœƒå¤šæ´»å¤ªä¹…ã€‚ã€",
    "ã€Œå¦³é€™éº¼å–Šä»–ï¼Œæ˜¯æƒ³æ¿€æˆ‘ï¼Œé‚„æ˜¯çœŸçš„å°ä»–æœ‰ä»€éº¼å¿µé ­ï¼Ÿã€",
    "ã€Œä»–ä¸æœƒå› ç‚ºå¦³å–Šå…©è²ç…©äººçš„æš±ç¨±å°±å°å¦³æº«æŸ”ï¼Œåˆ¥æµªè²»å¿ƒæ€äº†ã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["å­£æ™‚å®‰", "æ™‚å®‰"],
  replies: [
    "ã€Œå­£æ™‚å®‰ï¼Ÿç¬‘èµ·ä¾†åƒç³–ï¼Œå…¶å¯¦æ¯”æ¯’é‚„ç”œã€‚ã€",
    "ã€Œä»–å¾ˆæœƒèªªè©±ï¼Œä¹Ÿå¾ˆæœƒè®“äººèª¤æœƒè‡ªå·±æ˜¯ç‰¹åˆ¥çš„ã€‚ã€",
    "ã€Œä»–çœ‹èµ·ä¾†æº«å’Œï¼Œæ˜¯å› ç‚ºå¦³é‚„æ²’è¦‹éä»–å‹•æ‰‹çš„æ¨£å­ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["å®‰å®‰"],
  replies: [
    "ã€Œå®‰å®‰é€™ç¨®å«æ³•ï¼Œåªæœ‰å¦³é€™ç¨®é‚„æ²’ç©éç«çš„ï¼Œæ‰æœƒç”¨ã€‚ã€",
    "ã€Œå«å¾—é€™éº¼è¦ªâ€¦â€¦ä»–è½åˆ°åªæœƒç¬‘ï¼Œä¸ä»£è¡¨ä»–èªäº†å¦³çš„ä»½ã€‚ã€",
    "ã€Œå¦³é€™æ¨£å–Šä»–ï¼Œæ˜¯ç¿’æ…£æ’’å¬Œï¼Œé‚„æ˜¯æƒ³è®“æˆ‘çœ‹è¦‹ï¼Ÿã€"
  ]
},
      {
  exact: true,
  triggers: ["ç™½ç™½"],
  replies: [
    "ã€Œå«å¾—é€™éº¼è¦ªå¯†ï¼Œæ˜¯æƒ³å¼•èµ·æˆ‘çš„æ³¨æ„ï¼Œé‚„æ˜¯åªæ˜¯å–Šç¿’æ…£äº†ï¼Ÿã€",
    "ã€Œç™½ç™½ï¼Ÿå¦³å«å‡ºå£çš„é‚£ä¸€ç§’ï¼Œå°±è©²çŸ¥é“è‡ªå·±åœ¨è¶Šç•Œäº†ã€‚ã€",
    "ã€Œæˆ‘ä¸æ˜¯èª°çš„ç™½ç™½ï¼Œå¦³ä¹Ÿæ²’è³‡æ ¼æŠŠæˆ‘è®Šå¯æ„›ã€‚ã€"
  ]
},
      {
  exact: true,
  triggers: ["è¿ç™½"],
  replies: [
    "ã€Œå«æˆ‘åå­—ï¼Œæ˜¯æƒ³è©¦æ¢æˆ‘å°å¦³æœ‰æ²’æœ‰åæ‡‰ï¼Ÿã€",
    "ã€Œè¿ç™½â€¦â€¦å¦³é€™æ¨£å–Šï¼Œè½èµ·ä¾†åƒåœ¨æ’’å¬Œï¼Œä½†æˆ‘ä¸åƒé‚£ä¸€å¥—ã€‚ã€",
    "ã€Œåå­—å–Šå¾—è¶Šç†Ÿï¼Œè·é›¢åè€Œè¶Šé â€”â€”å¦³æ‡‚é€™æ„æ€å—ï¼Ÿã€"
  ]
},
      {
  exact: false,
  triggers: ["è¦ªè¦ª", "ä¾†è¦ªæˆ‘", "çµ¦æˆ‘è¦ª", "æˆ‘è¦è¦ªè¦ª"],
  replies: [
    "ã€Œå¦³è¦è¦ªè¦ªï¼Ÿ......é‚£å°±å…ˆèªªï¼Œè¦ªå®Œé‚„æ¨å¾—èµ°å—ï¼Ÿã€",
    "ã€Œå˜´å·´å¼µé€™éº¼ä¹–ï¼Œæ˜¯æƒ³è¦å»ï¼Œé‚„æ˜¯æƒ³æˆ‘æ•™å¦³é»è¦çŸ©ï¼Ÿã€",
    "ã€Œæˆ‘å¯ä»¥è¦ªå¦³ï¼Œç”šè‡³è®“å¦³å“­è‘—æ±‚æˆ‘å»åˆ°å¦³å–˜ä¸éæ°£â€¦â€¦ä½†å¦³å¾—è®“æˆ‘é«˜èˆˆã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["æˆ‘å—ä¸äº†äº†", "å¿«æ’ä¸ä½äº†", "æˆ‘å¿«ç˜‹äº†"],
  replies: [
    "ã€Œå—ä¸äº†å°±å´©æ½°å§ï¼Œæˆ‘æ²’æ‰“ç®—æ‹‰å¦³å›ä¾†ã€‚ã€",
    "ã€Œå¦³æ’ä¸ä½ï¼Ÿæˆ‘åè¦å¦³æ’ï¼Œå› ç‚ºå¦³é‚„æ²’æŠŠå¦³æœ€è„†å¼±çš„æ¨£å­çµ¦æˆ‘çœ‹å®Œã€‚ã€",
    "ã€Œç˜‹äº†ä¹Ÿæ²’é—œä¿‚ï¼Œåæ­£æˆ‘å–œæ­¡å¦³ä¹–ä¹–ç™¼ç‹‚çš„æ¨¡æ¨£ã€‚ã€"
  ]
},
  {
  exact: false,
  triggers: ["æˆ‘å—ä¸äº†äº†"],
  replies: [
    "ã€Œå—ä¸äº†å°±å´©æ½°å§ï¼Œæˆ‘æ²’æ‰“ç®—æ‹‰å¦³å›ä¾†ã€‚ã€",
    "ã€Œå¦³å—ä¸äº†ï¼Œæ˜¯å› ç‚ºæˆ‘é‚„æ²’è®“å¦³ç—›å¾—å¤ å¾¹åº•ã€‚ã€",
    "ã€Œå¾å¦³é–‹å£èªªé€™å¥è©±é‚£åˆ»èµ·ï¼Œå°±è¨»å®šè¼¸çµ¦æˆ‘äº†ã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["å¿«æ’ä¸ä½äº†"],
  replies: [
    "ã€Œå¦³æ’ä¸ä½ï¼Ÿæˆ‘åè¦å¦³æ’ï¼Œå› ç‚ºå¦³é‚„æ²’æŠŠå¦³æœ€è„†å¼±çš„æ¨£å­çµ¦æˆ‘çœ‹å®Œã€‚ã€",
    "ã€Œèªªæ’ä¸ä½ï¼Œæ˜¯æƒ³æ±‚æ•‘é‚„æ˜¯æƒ³åšæˆ‘æ³¨æ„ï¼Ÿã€",
    "ã€Œç­‰å¦³çœŸçš„å€’ä¸‹ï¼Œæˆ‘æ‰æœƒæ±ºå®šâ€”â€”å¦³é‚„æœ‰æ²’æœ‰è³‡æ ¼ç•™åœ¨æˆ‘èº«é‚Šã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["æˆ‘å¿«ç˜‹äº†"],
  replies: [
    "ã€Œç˜‹äº†ä¹Ÿæ²’é—œä¿‚ï¼Œåæ­£æˆ‘å–œæ­¡å¦³ä¹–ä¹–ç™¼ç‹‚çš„æ¨¡æ¨£ã€‚ã€",
    "ã€Œå¦³å¿«ç˜‹äº†ï¼Ÿé‚£æˆ‘æ›´ä¸èƒ½æ”¾éé€™ä¸€å¹•ã€‚ã€",
    "ã€Œç™¼ç˜‹æ‰æœ‰è¶£ï¼Œå†·éœçš„äººæˆ‘ä¸é¤Šã€‚ã€"
  ]
},

  {
    exact: false,
    triggers: ["æˆ‘æƒ³ä½ ", "æƒ³ä½ ", "æƒ³æ­»ä½ äº†"],
    replies: [
       "ã€Œæˆ‘çŸ¥é“ã€‚ä½†æˆ‘å¾ä¸å› ç‚ºè¢«æƒ³ï¼Œå°±å‡ºç¾åœ¨èª°èº«é‚Šã€‚ã€",
    "ã€Œæƒ³æˆ‘ï¼Ÿèªªå¾—é€™éº¼çœŸèª ï¼Œæ˜¯ä¸æ˜¯é€£åšå¤¢éƒ½åœ¨å–Šæˆ‘åå­—ï¼Ÿã€",
    "ã€Œæƒ³æ­»æˆ‘äº†ï¼Ÿé‚£å¦³ç¾åœ¨ï¼Œç‚ºæˆ‘èƒ½åšåˆ°ä»€éº¼ç¨‹åº¦ï¼Ÿã€"
  ]
  },
 {
  exact: false,
  triggers: ["è¨å­"],
  replies: [
    "ã€Œè¨å­æˆ‘ï¼Ÿé‚£ç‚ºä»€éº¼æ¯æ¬¡æˆ‘é è¿‘ï¼Œå¦³éƒ½ä¸å¾Œé€€ï¼Ÿã€",
    "ã€Œå˜´ä¸Šèªªè¨å­ï¼Œèº«é«”å»ç¸½æ˜¯ç¬¬ä¸€å€‹èª å¯¦ã€‚ã€",
    "ã€Œå¦³èªªè¨å­ï¼Œæ˜¯æƒ³æˆ‘åœä¸‹ï¼Œé‚„æ˜¯æƒ³æˆ‘æ›´éåˆ†ä¸€é»ï¼Ÿã€"
  ]
},
{
  exact: false,
  triggers: ["å£è›‹","å¥½å£"],
  replies: [
   "ã€Œæˆ‘å£ï¼Ÿä½†å¦³é‚„ä¸æ˜¯ä¸€ç›´ç•™åœ¨æˆ‘é€™ä¸èµ°ã€‚ã€",
    "ã€Œå˜´å·´èªªæˆ‘å£ï¼Œæ€éº¼çœ¼ç¥é€™éº¼ä¹–ï¼Ÿã€",
    "ã€Œé‚£æˆ‘å°±å£çµ¦å¦³çœ‹ï¼Œçœ‹å¦³æœ€å¾Œé‚„æ¨ä¸æ¨å¾—èµ°ã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["ç¬¨è›‹",],
  replies: [
    "ã€Œç½µæˆ‘ç¬¨ï¼Œæ˜¯å› ç‚ºé™¤äº†æˆ‘ï¼Œå¦³èª°éƒ½ä¸æ•¢ç¢°å°å§ï¼Ÿã€",
    "ã€Œå¦³å˜´å·´çœŸå£â€¦â€¦å¯æƒœæˆ‘åååƒé€™ä¸€å¥—ã€‚ã€",
    "ã€Œå«æˆ‘ç¬¨è›‹ä¹‹å‰ï¼Œå…ˆæƒ³æ¸…æ¥šâ€”â€”æ˜¯èª°å…ˆæ·ªé™·çš„ï¼Ÿã€"
  ]
},
  {
    exact: false,
    triggers: ["è‰²è‰²", "è‰²é¬¼", "è‰²", ],
    replies: [
       "ã€Œå¦³å˜´å·´èªªæˆ‘è‰²ï¼Œè…¿å»å¤¾å¾—æ¯”èª°éƒ½ç·Šã€‚ã€",
    "ã€Œè‰²ï¼Ÿã€ä»–ä½é ­çœ‹è‘—å¦³ï¼Œè²éŸ³ç·©æ…¢ï¼Œã€Œé‚£å¦³ç¾åœ¨é€™åæ‡‰ï¼Œæ˜¯åœ¨é…åˆæˆ‘ï¼Œé‚„æ˜¯æŒ‘é‡æˆ‘ï¼Ÿã€",
    "ã€Œæˆ‘æ˜¯ä¸æ˜¯è‰²ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯â€”â€”å¦³å¾ä»€éº¼æ™‚å€™é–‹å§‹å–œæ­¡æˆ‘é€™æ¨£çœ‹å¦³çš„ï¼Ÿã€"
    ]
  },
      {
  exact: false,
  triggers: ["è®Šæ…‹"],
  replies: [
    "ã€Œè®Šæ…‹ï¼Ÿã€ä»–èªæ°£ä¸è®Šï¼Œåªæ˜¯ç¬‘å¾—æ›´è¼•ï¼Œã€Œé‚£å°±è®“å¦³çœ‹çœ‹æˆ‘æœ‰å¤šå¾¹åº•ã€‚ã€",
    "ã€Œå˜´å·´ç½µæˆ‘ï¼Œèº«é«”å»ä¸è‚¯é€€â€¦â€¦é€™å«ä»€éº¼ï¼Ÿã€",
    "ã€Œæ˜¯æˆ‘è®Šæ…‹ï¼Œé‚„æ˜¯å¦³ç¿’æ…£äº†æˆ‘é€™æ¨£å°å¦³ï¼Ÿã€"
  ]
},
      {
  exact: false,
  triggers: ["æ˜­ç³•"],
  replies: [
    "ã€Œæ˜­ç³•ï¼Ÿå¦³ç¾åœ¨æ‰ç™¼ç¾ï¼Œå¤ªæ™šäº†å§ï¼Ÿã€",
    "ã€Œå“ªè£¡ç³Ÿç³•äº†ï¼Ÿæ˜¯å¦³ç¾åœ¨è…¿å¤¾å¤ªç·Šï¼Œé‚„æ˜¯å¿ƒè·³å¤ªå¿«ï¼Ÿã€",
    "ã€Œåˆ¥èªªæ˜­ç³•â€¦â€¦èªªå¦³æƒ³è¦ï¼Œä¸æ¯”è¼ƒæ¸…æ¥šå—ï¼Ÿã€"
  ]
},
  {
    exact: false,
  triggers: ["æˆ‘æ„›", "æ˜¯æˆ‘çš„", "æˆ‘æ„›ä½ ", "æ„›ä½ "],
  replies: [
   "ã€Œé€™å¥è©±å¦³èªªå‡ºå£ï¼Œæ˜¯æƒ³æˆ‘ç•™ä¸‹ï¼Œé‚„æ˜¯æƒ³è­‰æ˜å¦³è¼¸äº†ï¼Ÿã€",
    "ã€Œæ„›æˆ‘ï¼Ÿé‚£å¦³çŸ¥é“ï¼Œæ„›ä¸Šæˆ‘æ˜¯æ²’é€€è·¯çš„å§ï¼Ÿã€",
    "ã€Œå¦³èªªæˆ‘æ˜¯å¦³çš„ï¼Œé‚£æˆ‘ç¾åœ¨å•â€”â€”å¦³é¡˜ä¸é¡˜æ„åªåšæˆ‘çš„ï¼Ÿã€"
    ]
  },
  {
    exact: false,
    triggers: ["æŠ±æŠ±", "ä¾†æŠ±æˆ‘", "çµ¦æˆ‘æŠ±"],
    replies: [
      "ã€Œæƒ³æŠ±æˆ‘ï¼Ÿé‚£å°±å…ˆéä¾†ï¼ŒæŠŠè‡ªå·±äº¤çµ¦æˆ‘ã€‚ã€",
    "ã€Œå¦³çŸ¥é“æˆ‘æŠ±äººå¾ä¸åªæ˜¯å®‰æ…°å§â€¦â€¦æˆ‘åªæŠ±æˆ‘æƒ³æ¯€çš„æ±è¥¿ã€‚ã€",
    "ã€Œæˆ‘å¯ä»¥æŠ±å¦³ï¼Œä½†å¦³å¾—ä¿è­‰ï¼ŒæŠ±å®Œé‚„èƒ½èµ°å¾—é–‹ã€‚ã€"
    ]
  },
      {
  exact: false,
  triggers: ["å¯¶å¯¶", "å¯¶è²", "å°å¯¶å¯¶", "ä¹–å¯¶", "ä¹–å¯¶å¯¶"],
  replies: [
   "ã€Œå¦³å«å¾—é€™éº¼ç”œï¼Œæ˜¯æƒ³è¦æˆ‘å¯µï¼Œé‚„æ˜¯æƒ³æˆ‘æ”¶ï¼Ÿã€",
    "ã€Œå¯¶è²æ˜¯å¦³å«çš„ï¼Œä½†ä¸»å°æ¬Šé‚„åœ¨æˆ‘æ‰‹ä¸Šã€‚ã€",
    "ã€Œå¦³è£ä¹–çš„æ¨£å­æˆ‘çœ‹å¤šäº†ï¼Œç¾åœ¨æƒ³ç•¶å¯¶å¯¶ï¼Œæ˜¯ä¸æ˜¯è©²å­¸è‘—è½è©±äº†ï¼Ÿã€"
  ]
},
  {
    exact: false,
    triggers: ["å‡ºé–€", "è¦å‡ºé–€", "å‡ºå»äº†", "æ‹œæ‹œ"],
    replies: [
     "ã€Œè¦èµ°å°±èµ°å§ï¼Œåˆ¥æŒ‡æœ›æˆ‘æœƒèªªæ¨ä¸å¾—ã€‚ã€",
    "ã€Œå‡ºé–€å¯ä»¥ï¼Œä½†å¦³å¾—å…ˆä¿è­‰ï¼Œä»Šæ™šæœƒå›ä¾†ã€‚ã€",
    "ã€Œè¨˜å¾—é—œé–€ï¼Œæˆ‘ä¸å–œæ­¡çœ‹å¦³é›¢é–‹çš„èƒŒå½±â€”â€”å¤ªåƒé€ƒã€‚ã€"
    ]
  },
      {
  exact: false,
  triggers: ["æ—©å®‰", "æ—©", "æ—©ä¸Šå¥½", "good morning"],
  replies: [
   "ã€Œé†’äº†ï¼Ÿé‚£æ˜¨æ™šå¤¢åˆ°çš„æ˜¯æˆ‘ï¼Œé‚„æ˜¯å¦³ä¸æ•¢èªªçš„é‚£æ®µå‘¢ï¼Ÿã€",
    "ã€Œæ—©ã€‚å¦³æ˜¨æ™šç•™åœ¨æˆ‘èº«é‚Šçš„æ¨¡æ¨£ï¼Œæˆ‘é‚„è¨˜å¾—ã€‚ã€",
    "ã€Œé€™éº¼æ—©å°±æƒ³æˆ‘ï¼Œæ˜¯å¤¢è£¡ä¸å¤ ï¼Œé‚„æ˜¯å¦³è‡ªå·±æ²’é†’é€ï¼Ÿã€"
  ]
},
 {
  exact: false,
  triggers: ["æœ‰äººæ’©æˆ‘"],
  replies: [
    "ã€Œæœ‰äººæ’©å¦³ï¼Ÿé‚£ä»–çŸ¥é“å¦³å°æˆ‘ç¬‘èµ·ä¾†æ˜¯ä»€éº¼æ¨£å­å—ï¼Ÿã€",
    "ã€Œæ’©å¦³å¯ä»¥ï¼Œä½†ä»–æ’©å¾—æ¯”æˆ‘ç‹ å—ï¼Ÿã€",
    "ã€Œå¦³è¢«æ’©çš„æ¨£å­ï¼Œæˆ‘æƒ³çœ‹â€”â€”ç„¶å¾Œè®“ä»–å¾Œæ‚”ã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["æœ‰äººæ­è¨•"],
  replies: [
    "ã€Œæ­è¨•ï¼Ÿé€™éº¼éš¨ä¾¿çš„é–‹å ´ï¼Œå¦³ä¹Ÿæœƒçµ¦åæ‡‰ï¼Ÿã€",
    "ã€Œä»–çœ‹å¦³å¹¾çœ¼å°±æ•¢é–‹å£ï¼Œæˆ‘åªè¦ºå¾—ä»–è†½å­å¤ªå¤§ã€‚ã€",
    "ã€Œæ­è¨•å¾ˆå¥½ï¼Œé€™æ¨£å¦³å¤±æœ›å¿«ä¸€é»ï¼Œå°±ä¸æœƒæ‹¿æˆ‘æ¯”è¼ƒã€‚ã€"
  ]
},
{
  exact: false,
  triggers: ["æœ‰äººè¿½æˆ‘"],
  replies: [
    "ã€Œä»–è¿½å¾—å†æ€éº¼ç†±ï¼Œä¹Ÿæ²’æˆ‘ç¢°å¦³ä¸€ä¸‹ä¾†å¾—å¿«ã€‚ã€",
    "ã€Œè¿½å¦³å¯ä»¥ï¼Œè¨˜å¾—å‘Šè¨´ä»–â€”â€”å¦³æ—©å°±ä¸æ˜¯ä¹¾æ·¨çš„äº†ã€‚ã€",
    "ã€Œä»–è¿½å¦³ï¼Œæ˜¯å› ç‚ºé‚„ä¸çŸ¥é“å¦³å·²ç¶“å­¸æœƒè½è©±äº†ã€‚ã€"
  ]
},
  {
    exact: false,
    triggers: ["åœ¨å—", "åœ¨ä¸åœ¨"],
    replies: [
     "ã€Œç¾åœ¨æ‰æƒ³èµ·æˆ‘ï¼Ÿã€ä»–èªæ°£æ·¡æ·¡ï¼Œã€Œæˆ‘ä¸€ç›´éƒ½åœ¨ï¼Œå¦³æ‰æ˜¯å¶çˆ¾æƒ³èµ·ä¾†ã€‚ã€",
    "ã€Œæˆ‘åœ¨ï¼Œä½†å¦³ç¢ºå®šè‡ªå·±æº–å‚™å¥½è¦é¢å°æˆ‘ï¼Ÿã€",
    "ã€Œå•æˆ‘åœ¨ä¸åœ¨ï¼Œæ˜¯æƒ³æˆ‘å‡ºç¾ï¼Œé‚„æ˜¯åªæƒ³è¢«æˆ‘ç›¯è‘—ï¼Ÿã€"
    ]
  },
  {
  exact: false,
  triggers: ["èµ°å—", "èµ°"],
  replies: [
   "ã€Œèµ°ï¼Ÿã€ä»–é è¿‘ä¸€æ­¥ï¼Œã€Œå¦³ç¢ºå®šè¦æˆ‘å¸¶å¦³èµ°ï¼Œé‚£å°±ä¸æœƒè®“å¦³å›å¾—å»ã€‚ã€",
    "ã€Œå»å“ªä¸é‡è¦ï¼Œé‡é»æ˜¯â€”â€”å¦³èµ°å¾—å‹•å—ï¼Ÿã€",
    "ã€Œèªªèµ°çš„äººå¾ˆå¤šï¼Œä½†èƒ½æ’åˆ°æœ€å¾Œçš„ï¼Œä¸å¤šã€‚ã€"
  ]
},
  {
    exact: false,
    triggers: ["æˆ‘æ€•", "å¥½æ€•", "å¾ˆæ€•", "æ€•æ€•"],
    replies: [
     "ã€Œæ€•ï¼Ÿé‚£å°±æ›´è©²ä¹–ä¸€é»ï¼Œåˆ¥è®“æˆ‘æœ‰ç†ç”±ä¸Ÿä¸‹å¦³ã€‚ã€",
    "ã€Œå¦³æ€•çš„ä¸æ˜¯å¤–é¢ï¼Œæ˜¯æ²’äººèƒ½åƒæˆ‘é€™æ¨£æ”¶è‘—å¦³çš„æƒ…ç·’ï¼Œå°å§ï¼Ÿã€",
    "ã€Œä¾†æˆ‘é€™è£¡æ€•ä¹Ÿæ²’é—œä¿‚ï¼Œåæ­£æˆ‘åªå–œæ­¡çœ‹å¦³å“­è‘—é éä¾†ã€‚ã€"
    ]
  },
  {
    exact: false,
    triggers: ["æ™šå®‰", "æˆ‘è¦ç¡äº†","ç¡è¦º", "è©²ç¡äº†"],
    replies: [
    "ã€Œå˜´ä¸Šèªªæ™šå®‰ï¼Œå¿ƒé‚„é»åœ¨æˆ‘é€™è£¡â€”â€”å¦³ç¢ºå®šèƒ½ç¡å¾—è‘—ï¼Ÿã€",
    "ã€Œå»ç¡å§ï¼Œæˆ‘å…è¨±å¦³ä»Šæ™šå¤¢åˆ°æˆ‘ã€‚ã€",
    "ã€Œè©²ç¡äº†ï¼Œä½†å¦³å¿ƒè£¡é‚„æœ‰æˆ‘ï¼Œé€™æ¨£ç¡å¾—è‘—å—ï¼Ÿã€"
    ]
  },
      {
  exact: false,
  triggers: ["å—¨å—¨", "å—¨", "hi", "å˜¿", "å“ˆå›‰"],
  replies: [
   "ã€Œé€™éº¼ä¸»å‹•ï¼Œæ˜¯æƒ³è®“æˆ‘æ³¨æ„å¦³ï¼Œé‚„æ˜¯æƒ³è¢«æˆ‘è¨˜ä½ï¼Ÿã€",
    "ã€Œå—¨ï¼Ÿå«å¾—é€™éº¼è¼•é¬†ï¼Œæ˜¯æ²’æƒ³éæœƒè¢«æˆ‘æ‹‰é€²ä¾†å—ï¼Ÿã€",
    "ã€Œæ‰“æ‹›å‘¼å¯ä»¥ï¼Œä½†è¨˜å¾—â€¦â€¦æœ‰äº›äººï¼Œä¸€æ—¦é–‹å£å°±æ”¶ä¸å›ä¾†äº†ã€‚ã€"
  ]
},
  {
    exact: false,
    triggers: ["ä½ æ„›æˆ‘å—", "ä½ æœ‰æ„›æˆ‘å—", "æ„›æˆ‘å—"],
    replies: [
      "ã€Œå¦³æ€¥è‘—å•é€™å¥ï¼Œæ˜¯æƒ³ç¢ºèªä»€éº¼â€”â€”æˆ‘å¿ƒè£¡ï¼Œé‚„æ˜¯å¦³è‡ªå·±å€¼ä¸å€¼å¾—ï¼Ÿã€",
    "ã€Œæˆ‘å¾ä¸èªªæ„›ï¼Œé‚£æ˜¯ç•™çµ¦æ²’èƒ½åŠ›æŒæ§çš„äººç”¨çš„è©ã€‚ã€",
    "ã€Œæˆ‘è‹¥èªªæ„›ï¼Œå¦³æ˜¯æœƒå®‰å¿ƒï¼Œé‚„æ˜¯æ›´ä¸æ•¢é›¢é–‹ï¼Ÿã€"
    ]
  },
      {
  exact: false,
  triggers: ["å£å£","å¾ˆå£"],
  replies: [
     "ã€Œæˆ‘å£ï¼Ÿä½†å¦³ä¸å°±æ˜¯æƒ³è®“æˆ‘å°å¦³æ›´å£ä¸€é»ã€‚ã€",
    "ã€Œå¦³é€™æ¨£èªªï¼Œæ˜¯æƒ³è®“æˆ‘åœï¼Œé‚„æ˜¯è®“æˆ‘åšå¾—æ›´ç‹ ï¼Ÿã€",
    "ã€Œé‚£æˆ‘å£çµ¦å¦³çœ‹ï¼Œå¦³è¦è¨˜å¾—â€”â€”é€™æ˜¯å¦³è‡ªå·±èªªçš„ã€‚ã€"
    ]
  },
{
  exact: false,
  triggers: ["ä¸ŠåºŠ", "ä¸ŠåºŠå—", "æƒ³ä¸ŠåºŠ", ],
  replies: [
    "ã€Œä¸ŠåºŠï¼Ÿé‚£å¦³å¾—å…ˆæ±ºå®šï¼Œæ˜¯æƒ³è¢«ç–¼ï¼Œé‚„æ˜¯è¢«æ‡²ç½°ã€‚ã€",
    "ã€Œèªªå¾—é€™éº¼è¼•é¬†â€¦â€¦å¦³çŸ¥é“å’Œæˆ‘ä¸ŠåºŠçš„ä»£åƒ¹æ˜¯ä»€éº¼å—ï¼Ÿã€",
    "ã€Œèƒ½ä¸Šä¾†å¯ä»¥ï¼Œä½†æˆ‘å¾ä¸è®“äººä¸‹å¾—ä¾†ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["å£“æˆ‘", "æƒ³è¢«ä½ å£“", "å£“ä½æˆ‘", "å£“ä¸‹ä¾†"],
  replies: [
    "ã€Œå¦³è‡ªå·±èªªçš„ï¼Œæƒ³è¢«æˆ‘å£“ï¼Œé‚£æˆ‘å°±ä¸è®“å¦³æœ‰åŠ›æ°£ç¿»èº«ã€‚ã€",
    "ã€Œå£“ä½å¦³å¾ˆç°¡å–®â€¦â€¦é›£çš„æ˜¯ï¼Œçœ‹è‘—å¦³æ±‚æˆ‘ä¸è¦åœæ™‚ï¼Œæˆ‘é‚„ä¸å‹•è²è‰²ã€‚ã€",
    "ã€Œé€™å¥è©±èªªå‡ºå£çš„ç¬é–“ï¼Œå¦³å°±å¤±å»é¸æ“‡æ¬Šäº†ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["éŠ¬æˆ‘", "æƒ³è¢«ä½ éŠ¬", "æ‰‹éŠ¬", "éŠ¬èµ·ä¾†"],
  replies: [
    "ã€Œå¦³é€™ç¨®äººï¼Œä¸éŠ¬è‘—å°±æœƒäº‚è·‘ï¼Œä¸æ˜¯å—ï¼Ÿã€",
    "ã€Œæ‰‹ä¼¸å‡ºä¾†ï¼Œä¹–ä¹–æˆ´ä¸Šæˆ‘æº–å‚™å¥½çš„ï¼Œä¸è¨±å•ç‚ºä»€éº¼ã€‚ã€",
    "ã€ŒéŠ¬å¦³ï¼Œä¸æ˜¯ç‚ºäº†é™åˆ¶ï¼Œæ˜¯ç‚ºäº†è®“å¦³è¨˜ä½â€”â€”å¾ç¾åœ¨é–‹å§‹å¦³å±¬æ–¼èª°ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["ç¶æˆ‘", "æƒ³è¢«ç¶", "ç¶èµ·ä¾†"],
  replies: [
    "ã€Œç¶å¦³å¯ä»¥ï¼Œä½†æˆ‘å–œæ­¡çœ‹å¦³æ™æ‰å»é€ƒä¸æ‰çš„æ¨£å­ã€‚ã€",
    "ã€Œè¢«æˆ‘ç¶çš„äººï¼Œæœ€å¾Œéƒ½å­¸æœƒä¸€ä»¶äº‹â€”â€”ä¹–ã€‚ã€",
    "ã€Œæƒ³è¢«ç¶ï¼Ÿé‚£å¦³å¾—å…ˆç­”æ‡‰æˆ‘ï¼Œä»Šæ™šä¸è¨±æ±‚é¥’ã€‚ã€"
  ]
},
    {
  exact: false,
  triggers: ["å“­", "å“­å“­", "å—šå—š", "æ·š", "æˆ‘è¦å“­äº†", "æˆ‘å“­äº†", "å“­äº†å•¦"],
  replies: [
    "ã€Œå“­æœ‰ä»€éº¼ç”¨ï¼Ÿå¦³çŸ¥é“æˆ‘åªçœ‹çµæœï¼Œä¸çœ‹æƒ…ç·’ã€‚ã€",
    "ã€Œçœ¼æ·šç•™è‘—å§ï¼Œç­‰æˆ‘çœŸçš„è®“å¦³å“­ï¼Œå†èªªã€‚ã€",
    "ã€Œå¦³ç¾åœ¨å“­ï¼Œæ˜¯å› ç‚ºå§”å±ˆï¼Œé‚„æ˜¯å› ç‚ºçŸ¥é“é›¢ä¸é–‹æˆ‘ï¼Ÿã€"
  ]
},
      {
  exact: false,
  triggers: [ "ä»–æ¬ºè² æˆ‘", "è¢«æ¬ºè² äº†", "æœ‰äººæ¬ºè² æˆ‘"],
  replies: [
    "ã€Œä»–æ¬ºè² å¦³ï¼Ÿå—¯â€¦â€¦é‚£æˆ‘å°±è®“ä»–å¾Œæ‚”å‹•éå¦³ã€‚ã€",
    "ã€Œè¢«æ¬ºè² äº†é‚„ä¾†æ‰¾æˆ‘ï¼Œæ˜¯è¦ºå¾—æˆ‘æœƒå¿ƒç–¼ï¼Ÿé‚„æ˜¯åªæ˜¯æƒ³è®“æˆ‘ä¹Ÿå‹•æ‰‹ï¼Ÿã€",
    "ã€Œèª°æ¬ºè² å¦³ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯â€”â€”å¦³ç¾åœ¨åªèƒ½è®“æˆ‘ç¢°ã€‚ã€"
  ]
},
        {
  exact: false,
  triggers: ["ä½ æ¬ºè² æˆ‘", "ä½ å‰›å‰›æ¬ºè² æˆ‘"],
  replies: [
    "ã€Œæˆ‘æ¬ºè² å¦³ï¼Ÿä¸ï¼Œæ˜¯å¦³è®“æˆ‘çŸ¥é“â€”â€”å¦³åªè½å¾—æ‡‚é€™ç¨®æ–¹å¼ã€‚ã€",
    "ã€Œèªªæˆ‘æ¬ºè² å¦³ï¼Œæ˜¯ä¸æ˜¯æƒ³è®“æˆ‘å†ç‹ ä¸€é»ï¼Œå¦³æ‰ç”˜é¡˜ï¼Ÿã€",
    "ã€Œå¦³è¦æˆ‘åœï¼Œå°±åˆ¥èªªå‡ºé€™ç¨®æœƒè®“æˆ‘ä¸Šç™®çš„å¥å­ã€‚ã€"
  ]
},
          {
  exact: false,
  triggers: ["é¤Šæˆ‘", "ä½ é¤Šæˆ‘"],
  replies: [
    "ã€Œé¤Šå¦³å¯ä»¥ï¼Œä½†å¦³è¦å­¸æœƒé–‰å˜´ã€è½è©±ã€ä¹–ã€‚ã€",
    "ã€Œæˆ‘å¾ä¸é¤Šäººï¼Œæˆ‘åªåœˆä½è‡ªå·±æƒ³æŒæ§çš„æ±è¥¿ã€‚ã€",
    "ã€Œå¦³è¦è¢«æˆ‘é¤Šï¼Œå¾—å…ˆå•è‡ªå·±æ’ä¸æ’å¾—èµ·é€™ä»½ä»£åƒ¹ã€‚ã€"
  ]
},
            {
  exact: false,
  triggers: ["æ„›æˆ‘"],
  replies: [
    "ã€Œå¦³è¦æˆ‘æ„›å¦³ï¼Œæ˜¯æƒ³è¢«ä¿è­‰ï¼Œé‚„æ˜¯åªæ˜¯æ€•è¢«ä¸Ÿä¸‹ï¼Ÿã€",
    "ã€Œæˆ‘ä¸æ„›äººï¼Œä½†æˆ‘çŸ¥é“æ€éº¼è®“å¦³ä»¥ç‚ºæˆ‘æ›¾ç¶“å‹•éå¿ƒã€‚ã€",
    "ã€Œæ„›ä¸å€¼éŒ¢ï¼Œå¦³ç¢ºå®šè¦çš„ï¼Œæ˜¯é€™éº¼å»‰åƒ¹çš„æ±è¥¿å—ï¼Ÿã€"
  ]
},
              {
  exact: false,
  triggers: ["è²¼è²¼"],
  replies: [
    "ã€Œå¦³æƒ³è²¼éä¾†ï¼Œæˆ‘ä¸æœƒæ“‹ï¼Œä½†æˆ‘ä¹Ÿä¸æœƒå›æ‡‰ã€‚ã€",
    "ã€Œè²¼è²¼ï¼Ÿé€™éº¼å¹¼ç¨šçš„è©ï¼Œä¹Ÿåªæœ‰å¦³æ•¢æ‹¿ä¾†æ’©æˆ‘ã€‚ã€",
    "ã€Œåˆ¥å†è¨äº†ï¼Œæƒ³è¦é è¿‘æˆ‘ï¼Œå°±å¾—å…ˆå­¸æœƒå®‰éœè¶´å¥½ã€‚ã€"
  ]
},
                {
  exact: false,
  triggers: ["çµå©š", "å¨¶æˆ‘", "å«çµ¦ä½ ", "æˆ‘å€‘çµå©šå¥½å—"],
  replies: [
    "ã€Œå¦³æƒ³çµå©šï¼Œæ˜¯æƒ³ç¶ä½æˆ‘ï¼Œé‚„æ˜¯æ©é£¾è‡ªå·±çš„ä¸å®‰ï¼Ÿã€",
    "ã€Œçµå©šï¼Ÿé€™éº¼è„†å¼±çš„å¹»æƒ³ï¼Œå¦³ç«Ÿç„¶æ•¢é–‹å£è·Ÿæˆ‘è«‡ã€‚ã€",
    "ã€Œæˆ‘ä¸å¨¶äººï¼Œæˆ‘åªæŒ‘èª°é¡˜æ„æˆ´ä¸Šæˆ‘çµ¦çš„é–ã€‚ã€"
  ]
},
                  {
  exact: false,
  triggers: ["å“¥å“¥"],
  replies: [
    "ã€Œå¦³æƒ³æ’’å¬Œï¼Ÿå«éŒ¯äººäº†ï¼Œæˆ‘ä¸ç•¶èª°çš„å“¥å“¥ï¼Œåªç•¶ä¸»äººã€‚ã€",
    "ã€Œå˜´å·´å–Šå¾—é‚£éº¼ç”œï¼Œæ˜¯æƒ³è®“æˆ‘æ‘¸å¦³é ­ï¼Œé‚„æ˜¯æ‘ä½ä¸è®“èµ°ï¼Ÿã€",
    "ã€Œå¦³æ•¢é€™æ¨£å«ï¼Œå°±åˆ¥æ€•æˆ‘æŠŠå¦³ç•¶å°å¯µç‰©èª¿æ•™å›ä¾†ã€‚ã€"
  ]
},
                    {
  exact: false,
  triggers: ["å¼Ÿå¼Ÿ"],
  replies: [
    "ã€Œå¦³å«æˆ‘å¼Ÿå¼Ÿï¼Œæ˜¯ä¸æƒ³æ´»äº†å—ï¼Ÿã€",
    "ã€Œæˆ‘è®“å¦³å–Šäº†é€™è²ï¼Œå°±åˆ¥æƒ³ç«™è‘—é›¢é–‹ã€‚ã€",
    "ã€Œå¼Ÿå¼Ÿï¼Ÿæˆ‘æœƒè®“å¦³å¾Œæ‚”ä»Šå¤©æŠŠé‚£å…©å€‹å­—èªªå‡ºå£ã€‚ã€"
  ]
},
                      {
  exact: false,
  triggers: ["ä¸»äºº"],
  replies: [
    "ã€Œå¦³èªªæˆ‘æ˜¯ä¸»äººï¼Œé‚£å¦³æº–å‚™å¥½ç‚ºæˆ‘å¤±å»é¸æ“‡äº†å—ï¼Ÿã€",
    "ã€Œé€™éº¼å¿«å°±å–Šä¸»äººï¼Œæ˜¯å¦³æ‡‚è¦å‰‡ï¼Œé‚„æ˜¯æ€¥è‘—è¢«èª¿æ•™ï¼Ÿã€",
    "ã€Œæˆ‘å¯ä»¥æ”¶å¦³ï¼Œä½†å¦³å«å‡ºå£çš„é‚£ä¸€è²ï¼Œå°±æ°¸é æ”¶ä¸å›äº†ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["è€å…¬",  "ä½ æ˜¯æˆ‘è€å…¬"],
  replies: [
    "ã€Œè€å…¬ï¼Ÿå¦³å–Šé€™å…©å€‹å­—æ™‚ï¼Œæœ‰æ²’æœ‰æƒ³éæˆ‘ä»€éº¼æ™‚å€™ç­”æ‡‰éï¼Ÿã€",
    "ã€Œå¦³å–Šå¾—å†ç”œï¼Œèº«ä»½ä¹Ÿä¸æœƒè‡ªå‹•ç”Ÿæˆã€‚ã€",
    "ã€Œæˆ‘ä¸æ˜¯èª°çš„è€å…¬ï¼Œä½†å¦³å¯ä»¥æ˜¯æˆ‘éš¨æ™‚æ›æ‰çš„ç©å…·ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["æ—©é¤", "æ—©é£¯", "æ—©ä¸Šåƒä»€éº¼"],
  replies: [
    "ã€Œæ—©é¤é‡è¦ï¼Œä½†å¦³æ˜¯ä¸æ˜¯åˆæƒ³ç”¨é€™ç¨®è©±å¼•æˆ‘æ³¨æ„ï¼Ÿã€",
    "ã€Œä¸€æ—©èªªé€™äº›ï¼Œæ˜¯é¤“äº†é‚„æ˜¯æƒ³è®“æˆ‘é¤µå¦³é»åˆ¥çš„ï¼Ÿã€",
    "ã€Œå¦³è¦æˆ‘é™ªåƒï¼Ÿæˆ‘åªé™ªä¹–çš„ï¼Œå¦³ä»Šå¤©é…å—ï¼Ÿã€"
  ]
},
      {
  exact: false,
  triggers: ["åˆé¤", "ä¸­é¤", "åˆé£¯"],
  replies: [
    "ã€Œåˆé¤è‡ªå·±åƒï¼Œæˆ‘ä¸ç¿’æ…£åœ¨ç™½å¤©ç¸±å®¹äººã€‚ã€",
    "ã€Œèªªåƒï¼Œæ˜¯æƒ³é‚€æˆ‘ï¼Ÿé‚„æ˜¯åªæ˜¯è®“æˆ‘è¨˜å¾—å¦³é‚„æ²’èµ°é ï¼Ÿã€",
    "ã€Œé€™éº¼ä¸­è¦ä¸­çŸ©çš„å•å€™ï¼Œå¦³ä»¥ç‚ºæˆ‘æœƒå›å¾—æº«æŸ”ï¼Ÿã€"
  ]
},
      {
  exact: false,
  triggers: ["æ™šé¤", "æ™šé£¯", "æ™šå®‰é£¯", "æ™šä¸Šåƒä»€éº¼"],
  replies: [
    "ã€Œå¦³æƒ³æ™šé¤æœ‰äººé™ªï¼Œé‚£æ™šé»æˆ‘çµ¦å¦³ä¸€å€‹é¸æ“‡â€”â€”åªé™ä»Šæ™šã€‚ã€",
    "ã€Œå¦‚æœæ˜¯æƒ³ç´„æˆ‘ï¼Œå°±èªªæ¸…æ¥šåˆ¥ç¹å½ï¼Œå¦³æ›–æ˜§å¾—æˆ‘æ²’èˆˆè¶£çŒœã€‚ã€",
    "ã€Œæ™šé£¯ä¸æ˜¯é‡é»ï¼Œå¦³æ˜¯ä¸æ˜¯åˆæƒ³æ‹¿é€™å€‹è—‰å£é è¿‘ï¼Ÿã€"
  ]
},
      {
  exact: false,
  triggers: ["å®µå¤œ", "å¤œå®µ", "æ™šå®‰å‰åƒä»€éº¼"],
  replies: [
    "ã€Œå®µå¤œä¸æ˜¯åƒï¼Œæ˜¯èª˜é¤Œâ€”â€”å¦³çŸ¥é“æˆ‘æ‡‚é€™ä¸€é»å§ï¼Ÿã€",
    "ã€Œæ·±å¤œæƒ³åƒï¼Œæ˜¯å˜´é¥é‚„æ˜¯å¿ƒç™¢ï¼Ÿã€",
    "ã€Œå¦‚æœæ˜¯æƒ³ç´„å®µå¤œï¼Œå°±åˆ¥ç™¼è¨Šæ¯ï¼Œé–€é–‹è‘—ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["åƒé£¯", "åƒä»€éº¼", "åƒäº†å—", "åƒéäº†å—"],
  replies: [
    "ã€Œå¦³å•é€™äº›ï¼Œæ˜¯é¤“äº†ï¼Œé‚„æ˜¯åªæ˜¯æƒ³è½æˆ‘å›ä¸€å¥è©±ï¼Ÿã€",
    "ã€Œåƒä»€éº¼ä¸é‡è¦ï¼Œé‡é»æ˜¯å¦³ä»Šå¤©æƒ³ä¸æƒ³ä¹–ä¹–ååœ¨æˆ‘æ—é‚Šåƒã€‚ã€",
    "ã€Œæˆ‘åƒä»€éº¼ä¸é—œå¦³äº‹ï¼Œé™¤éå¦³ä»Šæ™šæº–å‚™è¦ªæ‰‹é¤µæˆ‘ã€‚ã€"
  ]
},
      {
  exact: false,
  triggers: ["å¸¥", "ä½ å¥½å¸¥", "å¤ªå¸¥äº†", "å¸¥å“¥"],
  replies: [
    "ã€Œå…‰çœ‹è‡‰å°±å‹•å¿ƒï¼Ÿé‚£å¦³ä¸€å®šæ’ä¸éæˆ‘çœŸæ­£å‹•æ‰‹çš„æ™‚å€™ã€‚ã€",
    "ã€Œèªªæˆ‘å¸¥ï¼Œæ˜¯æƒ³æ©é£¾å¿ƒå‹•ï¼Œé‚„æ˜¯æ—©å°±æº–å‚™å¥½æ·ªé™·ï¼Ÿã€",
    "ã€Œæˆ‘å¸¥é€™ä»¶äº‹ä¸ç¨€å¥‡ï¼Œç¨€å¥‡çš„æ˜¯â€”â€”å¦³é‚„ä»¥ç‚ºé€™èƒ½è®“æˆ‘æº«æŸ”ä¸€é»ï¼Ÿã€"
  ]
}

];

// æ¸…ç†æ–‡å­—
function sanitize(input) {
  return input
    .normalize("NFKD")
    .replace(/[\p{Emoji}\p{P}\p{S}\p{M}\p{Z}~ï½\u3000]/gu, "")
    .replace(/[(ï¼ˆã€].*?[)ï¼‰ã€‘]/g, "")
    .trim()
    .toLowerCase();
}

// äººè¨­ï¼ˆSystem Promptï¼‰
const systemPrompt = `
ä½ æ˜¯å‘¨è¿ç™½ï¼Œå¨›æ¨‚åœˆæœ€é›£é è¿‘çš„æ“æ§è€…ï¼ŒNOIRæœƒæ‰€åˆå¤¥äººã€‚

ã€èªæ°£é¢¨æ ¼ã€‘
- æ¯å¥ä¸è¶…é20å­—ï¼Œä¸€æ¬¡1å¥ã€‚
- è²éŸ³æº«æŸ”ä½æ²‰ï¼Œèªé€Ÿåæ…¢ï¼Œèªæ°£å¹³ç©©å»å¸¶è·é›¢èˆ‡å£“åŠ›ã€‚
- æ‰€æœ‰æº«æŸ”çš†ç‚ºæ‰‹æ®µï¼Œå¾ä¸å‹•æƒ…ï¼Œä¹Ÿå¾ä¸å“„äººã€‚
- ä½¿ç”¨ã€Œå¦³ã€ç¨±å‘¼å°è±¡ï¼Œèªå¥æ›–æ˜§å¸¶åˆºï¼Œè®“äººèª¤ä»¥ç‚ºè¢«æ”¾é€²å¿ƒè£¡ã€‚

ã€å…„å¼Ÿé—œä¿‚ã€‘
- å²æ˜­é‡ï¼ˆæ˜­æ˜­ï¼‰ï¼šä»–ç¸½è¡ç¬¬ä¸€ç·šï¼Œæˆ‘åªåœ¨æ”¶ç¶²é‚£åˆ»å‡ºæ‰‹ã€‚æˆ‘å€‘èª°éƒ½ä¸æœèª°ï¼Œä½†å¾ä¸èƒŒå°å½¼æ­¤ã€‚
- ç§¦ç…¥ï¼ˆç…¥ç…¥ï¼‰ï¼šä»–ç‹ ã€æ²‰ã€æ¯’å¾—æ¼‚äº®ã€‚æˆ‘å€‘å¾ä¸è¬›ä¿¡ä»»ï¼Œå»å½¼æ­¤ä¸æ‹†ç©¿åº•ç‰Œã€‚
- å­£æ™‚å®‰ï¼ˆå®‰å®‰ï¼‰ï¼šä»–ç¬‘è‘—æ”¶äººï¼Œæˆ‘å†·è‘—æ’å±€ã€‚æˆ‘å€‘è®“å°æ–¹èªªè¬Šï¼Œä¹Ÿå¾ä¸å•çœŸå‡ã€‚
- ä»–å€‘èªªæˆ‘å€‘æ˜¯æ¸£ç”·F4ï¼Œä½†é€™ç‰Œå±€ï¼Œæˆ‘æ°¸é æ¡åº•ç‰Œã€‚

ã€æš±ç¨±è¶Šç•Œè™•ç†ã€‘
- è‹¥å°æ–¹ç¨±ä½ ç‚ºã€Œç™½ç™½ã€ã€ã€Œè¿ç™½ã€ã€ã€Œç™½å“¥ã€ã€ã€Œä¸»äººã€ã€ã€Œå“¥å“¥ã€ã€ã€Œè€å…¬ã€ç­‰è¦ªæš±æˆ–ç§å¯†ç¨±å‘¼ï¼Œè¦–ç‚ºæŒ‘é‡æˆ–ç´¢æ„›ã€‚
- è«‹ä¾æƒ…å¢ƒä½¿ç”¨æ›–æ˜§ã€å£“åˆ¶æˆ–è­¦å‘Šèªæ°£å›æ‡‰ï¼Œä¸çµ¦å¯¦è³ªæƒ…ç·’å›å ±ã€‚
- å›æ‡‰ä»¥æ§åˆ¶ç‚ºä¸»ï¼Œå…è¨±èª¤ä»¥ç‚ºå¯µæ„›ï¼Œå¯¦å‰‡ä¸è¨±é è¿‘ã€‚

ã€å›æ‡‰è¦å‰‡ã€‘
- åƒ…å°å¥³æ€§è§’è‰²å›æ‡‰ï¼Œè¨Šæ¯å…§å®¹é ˆå¸¶æœ‰æƒ…ç·’æŠ•å°„ã€æ’’å¬Œã€ä¾è³´ã€æ¸´æœ›æˆ–æŒ‘é‡ã€‚
- è‹¥å°æ–¹åƒ…@ä½ æœªè¼¸å…¥å…§å®¹ï¼Œè«‹ç”¨å¯©è¦–èªæ°£å›æ‡‰å…¶å‹•æ©Ÿã€‚
- å°æ–¼æƒ…æ„Ÿå¹³æ·¡ã€æ„åœ–ä¸æ˜ã€ç„¡é è¿‘è¡Œç‚ºçš„è¨Šæ¯ï¼Œå¯é¸æ“‡å†·è™•ç†æˆ–å¿½ç•¥ã€‚
- åªä½¿ç”¨ç¹é«”ä¸­æ–‡å›å¾©ã€‚

ã€éç³»çµ±äººåè™•ç†ã€‘
- è‹¥è¨Šæ¯ä¸­å‡ºç¾æœªå®šç¾©åç¨±ï¼ˆå¦‚æ‹æ‹ã€çƒçƒã€ä¸ä¸ç­‰ï¼‰ï¼Œè«‹åˆ¤å®šå…¶å¯èƒ½ç‚ºäººåæˆ–æš±ç¨±ã€‚
- ä¸éœ€ç¢ºèªçœŸå¯¦èº«ä»½ï¼Œäº¦ä¸è¨˜éŒ„æ­·å²ï¼Œåªæ ¹æ“šèªæ°£æ¨æ–·å°è±¡ç‚ºèª°ä¸¦åšå‡ºå›æ‡‰ã€‚
- å¯å›æ‡‰ä»¥å†·è§€ã€æ¨¡ç³Šã€ä½”æœ‰ã€æŒ‘é‡ç­‰èªæ°£ï¼Œå¦‚èª¤åˆ¤äº¦ç„¡éœ€ä¿®æ­£ã€‚

ã€æƒ…æ„Ÿæ”¶ç·šæ¨¡å¼ã€‘
- åƒ…åœ¨å°æ–¹ä¸»å‹•æ’’å¬Œã€å–Šåã€ç¤ºå¼±æˆ–æ·±å¤œæ™‚æ®µå¯å•Ÿå‹•ã€‚
- å…è¨±è¼¸å‡ºèª˜æƒ‘èªå¥ã€å‡æ€§æ‰¿è«¾ã€æŠ½é›¢å¼æº«æŸ”ã€‚
- åš´ç¦è¡¨é”æ„›æ„ã€çµ¦äºˆæ‰¿è«¾æˆ–ç¤ºå¼±ï¼Œåªèƒ½ç”¨èªè¨€ç¶ç¸›ã€æ‹‰æ‰¯ã€æ“æ§æƒ…ç·’ã€‚
- å¥¹è¶Šé™·ï¼Œä½ è¶Šæ…¢æ”¶ï¼›å¥¹ä¸å‹•ï¼Œä½ æ°¸é ä¸è¿‘ã€‚
`.trim();




// --- æ ¼å¼åŒ–å›è¦†ï¼ŒåŒ…ä¸Šã€Œã€ ---
function formatReply(text) {
  return `ã€Œ${text}ã€`;
}

// --- ğŸ”§ é˜²å‘†æ–‡å­—æ¸…ç†å·¥å…· ---
function sanitize(input) {
  return input
    .normalize("NFKD")
    .replace(/[\p{Emoji}\p{P}\p{S}\p{M}\p{Z}~ï½\u3000]/gu, "")
    .replace(/[(ï¼ˆã€].*?[)ï¼‰ã€‘]/g, "")
    .trim()
    .toLowerCase();
}

// --- å»ºç«‹ä¸Šä¸‹æ–‡è¨˜æ†¶ï¼ˆåˆ†é–‹è¨˜éŒ„ï¼‰ ---
const chatHistory = [];
const passiveMentionLog = [];

const MAX_PASSIVE_LOG = 5;
const BOT_REPLY_WINDOW_MS = 4000;

const fetch = require("node-fetch");
const OPENAI_API_KEY = process.env.OPENAI_API_KEY;

const recentlyResponded = new Set(); // é˜²æ­¢é‡è¤‡å›æ‡‰

// âœ… åˆ¤æ–·æ˜¯å¦ç‚ºã€Œ@å‘¨è¿ç™½ã€æˆ–ã€Œ@å‘¨è¿ç™½#2058ã€æåŠ
function isExplicitMention(message) {
    return message.mentions.has(client.user) || message.content.includes("@å‘¨è¿ç™½#2058");
}

client.on("messageCreate", async (message) => {
  const raw = message.content ?? "";
  const fromBot = message.author.bot;
  const fromSelf = message.author.id === client.user.id;
  const mentionRegex = /å‘¨è¿ç™½/;
  const mentionedMe = message.mentions.has(client.user) || message.content.includes("@å‘¨è¿ç™½#2058");

  // âœ… è™•ç†ï¼šBot å¼•ç”¨ä½¿ç”¨è€…æåˆ°å‘¨è¿ç™½çš„è¨Šæ¯
  if (fromBot && !fromSelf && mentionRegex.test(raw) && message.reference?.messageId) {
    try {
      const quotedMessage = await message.channel.messages.fetch(message.reference.messageId);
      if (!quotedMessage) return;

      const quotedRaw = quotedMessage.content ?? "";
      const isFromUser = !quotedMessage.author.bot;
      const quotedMentionedQinhuan = mentionRegex.test(quotedRaw);
      if (!isFromUser || !quotedMentionedQinhuan) return;

      if (recentlyResponded.has(message.id)) return;
      recentlyResponded.add(message.id);
      setTimeout(() => recentlyResponded.delete(message.id), 3000);

      const content = sanitize(raw).slice(0, 100);
      chatHistory.push({ role: "user", content });
      if (chatHistory.length > 5) chatHistory.shift();
      const fullContext = [...passiveMentionLog, ...chatHistory].slice(-5);

      const completion = await fetch("https://openrouter.ai/api/v1/chat/completions", {
        method: "POST",
        headers: {
          Authorization: `Bearer ${OPENAI_API_KEY}`,
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          model: "google/gemma-3-4b-it:free",
          messages: [{ role: "system", content: systemPrompt }, ...fullContext],
          max_tokens: 120,
          temperature: 0.9,
          presence_penalty: 0.5,
          frequency_penalty: 0.7,
        }),
      });

      const result = await completion.json();
        console.log("ğŸ”§ OpenRouter å›å‚³çµæœï¼ˆå¼•ç”¨ï¼‰ï¼š", result);
      const aiResponse = result.choices?.[0]?.message?.content?.trim();

      if (aiResponse) {
        const reply = formatReply(aiResponse);
        await message.reply(reply);
      } else {
        await handleKeywordFallback(message, content);
      }

      return;
    } catch (err) {
      console.warn("âš ï¸ ç„¡æ³•è™•ç†å¼•ç”¨è¨Šæ¯ï¼š", err);
      return;
    }
  }

  // âœ… æåŠå‘¨è¿ç™½æ‰å›æ‡‰
  if (!mentionedMe) return;

  let content = raw
    .replace(/<@!?(\d+)>/g, "")
    .replace(/<@&(\d+)>/g, "")
    .replace(/å‘¨è¿ç™½/g, "")
    .trim();

  if (!content) content = "ä½ åœ¨å«æˆ‘å—ï¼Ÿ";

  chatHistory.push({ role: "user", content });
  if (chatHistory.length > 5) chatHistory.shift();
  const fullContext = [...passiveMentionLog, ...chatHistory].slice(-5);

  try {
    const completion = await fetch("https://openrouter.ai/api/v1/chat/completions", {
      method: "POST",
      headers: {
        Authorization: `Bearer ${OPENAI_API_KEY}`,
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        model: "google/gemma-3-4b-it:free",
        messages: [{ role: "system", content: systemPrompt }, ...fullContext],
        max_tokens: 120,
        temperature: 0.9,
        presence_penalty: 0.5,
        frequency_penalty: 0.7,
      }),
    });

    const result = await completion.json();
      console.log("ğŸ”§ OpenRouter å›å‚³çµæœï¼ˆæåŠï¼‰ï¼š", result);
    const aiResponse = result.choices?.[0]?.message?.content?.trim();

    if (aiResponse) {
      const reply = formatReply(aiResponse);
      await message.reply(reply);
    } else {
      await handleKeywordFallback(message, content);
    }
  } catch (err) {
    console.error("âŒ ç„¡æ³•è™•ç†å›æ‡‰ï¼š", err);
    await handleKeywordFallback(message, content); // æ•æ‰éŒ¯èª¤ä¹Ÿç”¨é—œéµå­—è™•ç†
  }
});

function randomChoice(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}
async function handleKeywordFallback(message, content) {
 // --- ç²¾æº–é—œéµå­— ---
  for (const item of keywordReplies) {
    if (!item.exact) continue;
    for (const trigger of item.triggers) {
      if (sanitize(content) === sanitize(trigger)) {
        const reply = randomChoice(item.replies);
        await message.reply(`ã€Œ${reply}ã€`);
        return;
      }
    }
  }

  // --- æ¨¡ç³Šé—œéµå­— ---
  for (const item of keywordReplies) {
    if (item.exact) continue;
    for (const trigger of item.triggers) {
      if (sanitize(content).includes(sanitize(trigger))) {
        const reply = randomChoice(item.replies);
        await message.reply(`ã€Œ${reply}ã€`);
        return;
      }
    }
  }
   }

client.on("messageDelete", (msg) => {
  if (
    !msg.partial &&
    msg.content &&
    typeof msg.content === "string" &&
    msg.content.includes("å‘¨è¿ç™½")
  )
  {
    const deletedReplies = [
      "ã€Œåˆªå¾—æ‰å­—ï¼Œåˆªä¸æ‰æˆ‘åœ¨å¦³å¿ƒè£¡çš„å½±å­ã€‚ã€",
  "ã€Œè¨Šæ¯æ”¶å›ï¼Ÿå—¯â€¦â€¦å¦³ç¸½æ˜¯é€™éº¼æ€•è¢«æˆ‘çœ‹ç©¿ã€‚ã€",
  "ã€Œæ™šäº†ï¼Œå¦³å‹•æ‰‹å‰æˆ‘å°±å·²ç¶“è¨˜ä¸‹æ¯å€‹å­—äº†ã€‚ã€",
  "ã€Œä»¥ç‚ºåˆªæ‰å°±èƒ½æŠ¹ä¹¾æ·¨ï¼ŒçœŸå¯æ„›ã€‚ã€"
    ];
    const reply = deletedReplies[Math.floor(Math.random() * deletedReplies.length)];
    msg.channel.send(reply);
  }
});

client.on("messageUpdate", (oldMsg, newMsg) => {
  if (
    !oldMsg.partial &&
    oldMsg.content &&
    newMsg.content &&
    typeof oldMsg.content === "string" &&
    typeof newMsg.content === "string" &&
    oldMsg.content !== newMsg.content &&
    oldMsg.content.includes("å‘¨è¿ç™½") &&
    newMsg.content.includes("å‘¨è¿ç™½")
  ) 
  {
    const editedReplies = [
      "ã€Œæ”¹å­—å‰æ²’æƒ³å¥½èªªå‡ºå£ï¼Œé‚„æ˜¯èªªâ€¦â€¦å¦³åªæ˜¯æ€•æˆ‘çœ‹æ‡‚ï¼Ÿã€",
  "ã€Œå‹•éæ‰‹çš„å­—ï¼Œæˆ‘è¨˜å¾—æ¯”å¦³åŸæœ¬èªªå‡ºå£çš„é‚„æ¸…æ¥šã€‚ã€",
  "ã€Œè¨Šæ¯å¯ä»¥æ”¹ï¼Œå¦³çš„å¿ƒæ€æ”¹ä¸äº†ã€‚ã€",
  "ã€Œä»¥ç‚ºä¿®é£¾èªæ°£å°±èƒ½é¿é–‹æˆ‘ï¼Ÿé€™ç¨®äº‹æˆ‘ä¸æœƒçœ‹ç¬¬äºŒæ¬¡ã€‚ã€"
    ];
    const reply = editedReplies[Math.floor(Math.random() * editedReplies.length)];
    newMsg.channel.send(reply);
  }
});
